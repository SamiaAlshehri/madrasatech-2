[
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Fees",
  "enabled": 1,
  "modified": "2022-04-27 01:31:05.226604",
  "name": "Fees-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "frappe.ui.form.on('Fees', {\n\trefresh(frm) {\n\t\tfrm.set_query(\"fee_structure\", function() {\n\t\t\treturn{\n\t\t\t\t\"filters\":{\n\t\t\t\t\t'program': frm.doc.program,\n\t\t\t\t\t'academic_year': frm.doc.academic_year\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t}\n})\n// frappe.ui.form.on(\"Fess\", {\n// \tsetup: function(frm) {\n// \t\tfrm.set_query(\"program\", function() {\n// \t\t    if(frm.doc.stage !== \"\"){\n// \t\t        return {\n// \t\t\t\t    filters: [\n// \t\t\t\t    \t[\"Program\",\"stage\", \"=\", frm.doc.stage]\n\t\t\t\t\t\n// \t\t\t\t]\n// \t\t\t}\n// \t\t    }\n\t\t\t\n// \t\t});\n// \t}\n// });\n\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Student Applicant",
  "enabled": 1,
  "modified": "2022-05-06 09:13:48.246557",
  "name": "Student Applicant-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "// frappe.ui.form.on(\"Student Applicant\", {\n//     \"program\": function(frm) {\n//         frm.doc.stage = frm.doc.program.stage;\n//     }\n// });\n\nfrappe.ui.form.on(\"Student Applicant\", {\n\tsetup: function(frm) {\n\t\tfrm.set_query(\"program\", function() {\n\t\t    if(frm.doc.stage){\n\t\t        return {\n\t\t\t\t    filters: [\n\t\t\t\t    \t[\"Program\",\"stage\", \"=\", frm.doc.stage]\n\t\t\t\t\t\n\t\t\t\t]\n\t\t\t};\n\t\t    }\n\t\t\t\n\t\t});\n\t},\n\trefresh: function(frm) {\n\t\tfrm.set_query(\"stage\", function() {\n\t\t    if(frm.doc.program){\n\t\t      //  frm.set_value('stage' ,frm.doc.program.stage);\n\t\t      frm.stage.set_value(frm.doc.program.stage);\n// \t\t     \n\t\t    }\n\t\t\t\n\t\t});\n\t},\n\n\t\n    \n});\n// return {\n// \t\t\t\tfilters: {\n// \t\t\t\t\tdocstatus: 1\n// \t\t\t\t}\n// \t\t\t};\n// \trefresh: function(frm) {\n// \t    frm.set_query(\"stage\", function() {\n// \t\t    if(frm.doc.program){\n// \t\t        return {\n// \t\t\t\t    //\t[\"Stage\",\"stage\", \"=\", ]\n// \t\t            frm.set_value('stage' ,frm.doc.program);\n\t\t            \n// \t\t        };\n\t\t        \n// \t\t    }\n\t\t\t\n// \t\t});\n// \t    frm.set_query(\"program\", function(){\n// \t    if (frm.doc.program){\n// \t\t    //'program'= frm.doc.program\n// \t\t    frm.set_value('student_batch_name' ,frm.doc.student_batch_name);\n\t\t    \n// \t\t}\n// \t}\n    \t\n// });\n// // frappe.ui.form.on(\"Task\", {\n//     setup: function(frm) { \n//         frm.set_query(\"parent_task2\", function() {\n//             return {\n//                 filters:\n//                 [ [\"Task\",\"is_group\", \"=\", \"1\"], \n//                 [\"Task\",\"project\", \"=\", frm.doc.project] \n                \n//                 ] \n                \n//             }\n//             }); } });\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Program Enrollment",
  "enabled": 1,
  "modified": "2022-05-06 09:04:10.621430",
  "name": "Program Enrollment-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "frappe.ui.form.on('Program Enrollment', {\n\trefresh(frm) {\n\t\tfrm.fields_dict['fees'].grid.get_field('fee_structure').get_query = function(doc, cdt, cdn) {\n\t\t\tvar d = locals[cdt][cdn];\n\t\t\treturn {\n\t\t\t\tfilters: {'program': frm.doc.program,'academic_year': frm.doc.academic_year,'academic_term': frm.doc.academic_term}\n\t\t\t}\n\t\t};\n\t}\n})\n\nfrappe.ui.form.on(\"Program Enrollment\", {\n// \tsetup: function(frm) {\n\trefresh(frm) {\n\t\tfrm.set_query(\"program\", function() {\n\t\t        return {\n\t\t\t\t    filters: [\n\t\t\t\t    \t[\"Program\",\"stage\", \"=\", frm.doc.student_batch_name]\n\t\t\t\t\t\n\t\t\t\t]\n\t\t\t\n\t\t    }\n\t\t\t\n\t\t});\n// \t\tif (frm.doc.program){\n// \t\t    //'program'= frm.doc.program\n// \t\t    frm.set_value('stage' ,frm.doc.student_batch_name);\n\t\t    \n// \t\t}\n\t}\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Assessment Result",
  "enabled": 1,
  "modified": "2022-05-06 07:58:36.488560",
  "name": "Assessment Result-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "frappe.ui.form.on('Assessment Result', {\n    onload: function(frm) {\n\t\tfrm.set_query('assessment_plan', function() {\n\t\t\treturn {\n\t\t\t\tfilters: {\n\t\t\t\t\ttype_test: frm.doc.type_test\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t},\n// \tsetup: function(frm) {\n// \t\tfrm.set_query(\"assessment_plan\", function() {\n// \t\t    if(frm.doc.stage){\n// \t\t        return {\n// \t\t\t\t    filters: {\n// \t\t\t\t    \t\"type_test\": frm.doc.type_test\n\t\t\t\t\t\n// \t\t\t\t    }\n// \t\t\t};\n// \t\t    }\n\t\t\t\n// \t\t});\n// \t}\n});\n\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Student Group",
  "enabled": 1,
  "modified": "2022-05-09 21:38:41.967852",
  "name": "Student Group-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "frappe.ui.form.on('Student Group', {\n\tbefore_load:function(frm) {\n\t    frm.set_df_property('group_based_on','reqd',0);\n\t    frm.set_df_property('student_group_name','reqd',0);\n\t\tfrm.set_df_property(\"group_based_on\",\"hidden\",1);\n\t}\n})",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Room",
  "enabled": 1,
  "modified": "2022-05-14 23:56:34.913556",
  "name": "Room-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "frappe.ui.form.on('Room', {\n\tsetup: function(frm) {\n\t\tfrm.set_query(\"grade\", function() {\n\t\t    if(frm.doc.stage){\n\t\t        return {\n\t\t\t\t    filters: {\n\t\t\t\t    'stage': frm.doc.stage,\n\t\t\t\t\t\n\t\t\t\t    }\n\t\t\t}}\n\t\t\t\n\t\t});\n\t},\n})",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Course Schedule",
  "enabled": 1,
  "modified": "2022-05-15 06:07:51.147338",
  "name": "Course Schedule-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "var t_array = Array();\nfrappe.ui.form.on('Course Schedule', {\n\trefresh(frm) {\n\t    \n\t},\n\tcourse: function(frm){\n\t    console.log(\"True 1\");\n\t    if(frm.doc.course){\n\t          console.log(\"True 2\");\n\t\tvar tescher = frappe.db.get_list('Instructor');\n\t\ttescher.then(function(data1){\n\t\t    var t_info\n\t\t    for(let i in data1){\n\t\t        \n\t\t        t_info = frappe.db.get_doc('Instructor',data1[i].name);\n\t\t        t_info.then(function(data2){\n\t\t            if(data2.instructor_log.length){\n    \t\t            let arr = data2.instructor_log;\n    \t\t            for(let j in arr)\n    \t\t                if(arr[j].course==frm.doc.course)\n    \t\t                    t_array.push(data2.name);\n    \t\t                    \n    \t\t                  //  console.log(data2.instructor_name);\n    \t\t            }\n\t\t        })\n\t\t        \n\t\t    }\n\t\t});\n\t\t\n\t\t\n\t\n\tfrm.set_query(\"instructor\", function() {\n\t\t    if(frm.doc.course){\n\t\t        return {\n\t\t           \n\t\t\t\t    filters: [\n\t\t\t\t    \t[\"Instructor\",\"name\", \"in\",t_array]\n\t\t\t\t    // \teval(`[\\\"${t_array.join('\\\",\\\"')}\\\"]`)\n\t\t\t\t    \t]\n\t\t\t\t//     filters:{\n\t\t\t\t// \t\t   \"name\": t_array\n\t\t\t\t//   }\n\t\t\t\t\n\t\t\t};\n\t\t    }\n\t\t\t\n\t\t});\n\t\tconsole.log(t_array);\n\t    }\n\t    else\n\t    {\n\t        console.log(\"False \");\n\t    }\n\t},\n})",
  "view": "Form"
 }
]